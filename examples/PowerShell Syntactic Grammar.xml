<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE syntax SYSTEM "../Syntax.dtd">
<?xml-stylesheet type="text/xsl" href="../Syntax.xsl"?>
<syntax language="PowerShell" start="CompilationUnit">
  <rule name="ScriptBlock">
    <definition>
      <terminal>{</terminal>
      <optional>
        <terminal type="case-insensitive">param</terminal>
        <optional>
          <terminal>(</terminal>
          <nonterminal name="Parameters"/>
          <terminal>)</terminal>
        </optional>
      </optional>
      <optional>
        <terminal type="case-insensitive">dynamicparam</terminal>
        <terminal>{</terminal>
        <nonterminal name="Statements"/>
        <terminal>}</terminal>
      </optional>
      <nonterminal name="Procedure"/>
      <terminal>}</terminal>
    </definition>
  </rule>
  <rule name="Procedure">
    <definition>
      <nonterminal name="Statements"/>
    </definition>
    <definition>
      <optional>
        <terminal type="case-insensitive">begin</terminal>
        <terminal>{</terminal>
        <nonterminal name="Statements"/>
        <terminal>}</terminal>
      </optional>
      <optional>
        <terminal type="case-insensitive">process</terminal>
        <terminal>{</terminal>
        <nonterminal name="Statements"/>
        <terminal>}</terminal>
      </optional>
      <optional>
        <terminal type="case-insensitive">end</terminal>
        <terminal>{</terminal>
        <nonterminal name="Statements"/>
        <terminal>}</terminal>
      </optional>
    </definition>
  </rule>
  <rule name="Statements">
    <definition>
      <optional>
        <nonterminal name="Statement"/>
      </optional>
      <optional>
        <nonterminal name="StatementSeparator"/>
      </optional>
    </definition>
    <definition>
      <nonterminal name="Statement"/>
      <repeated>
        <optional>
          <nonterminal name="StatementSeparator"/>
          <nonterminal name="Statement"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="StatementSeparator">
    <definition>
      <nonterminal name="EndOfLine"/>
    </definition>
    <definition>
      <terminal>;</terminal>
    </definition>
    <definition>
      <comment>
        background operator, see also &lt;span class="terminal"
        style="color:black"&gt;Start-Job &lt;/span&gt;
      </comment>
      <terminal>&amp;</terminal>
    </definition>
    <definition>
      <terminal>&amp;&amp;</terminal>
    </definition>
    <definition>
      <terminal>||</terminal>
    </definition>
  </rule>
  <rule name="Statement">
    <definition>
      <nonterminal name="Pipeline"/>
    </definition>
    <definition>
      <nonterminal name="FunctionDeclaration"/>
    </definition>
    <definition>
      <nonterminal name="IfStatement"/>
    </definition>
    <definition>
      <nonterminal name="SwitchStatement"/>
    </definition>
    <definition>
      <nonterminal name="ForEachStatement"/>
    </definition>
    <definition>
      <nonterminal name="ForStatement"/>
    </definition>
    <definition>
      <nonterminal name="DoStatement"/>
    </definition>
    <definition>
      <nonterminal name="WhileStatement"/>
    </definition>
    <definition>
      <nonterminal name="FlowControlStatement"/>
    </definition>
    <definition>
      <nonterminal name="TrapStatement"/>
    </definition>
    <definition>
      <nonterminal name="FinallyStatement"/>
    </definition>
  </rule>
  <rule name="Pipeline">
    <definition>
      <nonterminal name="Assignment"/>
    </definition>
    <definition>
      <nonterminal name="Expression"/>
      <repeated>
        <optional>
          <terminal>|</terminal>
          <nonterminal name="Command"/>
        </optional>
      </repeated>
    </definition>
    <definition>
      <nonterminal name="Command"/>
      <repeated>
        <optional>
          <terminal>|</terminal>
          <nonterminal name="Command"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="Assignment">
    <comment>
      Specify AssignableExpression!
    </comment>
    <definition>
      <nonterminal name="AssignableExpression"/>
      <nonterminal name="AssignmentOperator"/>
      <nonterminal name="Pipeline"/>
    </definition>
  </rule>
  <rule name="AssignmentOperator">
    <definition>
      <terminal>=</terminal>
      <terminal>+=</terminal>
      <terminal>-=</terminal>
      <terminal>*=</terminal>
      <terminal>/=</terminal>
      <terminal>%=</terminal>
    </definition>
  </rule>
  <rule name="Expression">
    <definition>
      <nonterminal name="LogicalExpression"/>
    </definition>
  </rule>
  <rule name="LogicalExpression">
    <definition>
      <nonterminal name="BitwiseExpression"/>
      <repeated>
        <optional>
          <nonterminal name="LogicalOperator"/>
          <nonterminal name="BitwiseExpression"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="LogicalOperator">
    <definition>
      <terminal type="case-insensitive">-and</terminal>
      <terminal type="case-insensitive">-or</terminal>
      <terminal type="case-insensitive">-xor</terminal>
    </definition>
  </rule>
  <rule name="BitwiseExpression">
    <definition>
      <nonterminal name="Comparison"/>
      <repeated>
        <optional>
          <nonterminal name="BitwiseOperator"/>
          <nonterminal name="Comparison"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="BitwiseOperator">
    <definition>
      <terminal type="case-insensitive">-band</terminal>
      <terminal type="case-insensitive">-bor</terminal>
      <terminal type="case-insensitive">-bxor</terminal>
    </definition>
  </rule>
  <rule name="Comparison">
    <definition>
      <nonterminal name="Addition"/>
      <repeated>
        <optional>
          <nonterminal name="TypeOperator"/>
          <nonterminal name="Addition"/>
        </optional>
      </repeated>
    </definition>
    <definition>
      <nonterminal name="Addition"/>
      <repeated>
        <optional>
          <nonterminal name="ComparisonOperator"/>
          <nonterminal name="Addition"/>
        </optional>
      </repeated>
    </definition>
    <definition>
      <nonterminal name="Addition"/>
      <repeated>
        <optional>
          <terminal type="case-insensitive">-split</terminal>
          <nonterminal name="Addition"/>
        </optional>
      </repeated>
    </definition>
    <definition>
      <nonterminal name="Addition"/>
      <repeated>
        <optional>
          <terminal type="case-insensitive">-join</terminal>
          <nonterminal name="Addition"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="TypeOperator">
    <definition>
      <terminal type="case-insensitive">-is</terminal>
      <terminal type="case-insensitive">-isNot</terminal>
      <terminal type="case-insensitive">-as</terminal>
    </definition>
  </rule>
  <rule name="ComparisonOperator">
    <comment>
      Use prefix 'c' for case-sensitive variant (e.g.
      &lt;span class="terminal"
      style="color:black"&gt;-ceq &lt;/span&gt;).&lt;br/&gt;
      Use prefix 'i' for explicitly case-insensitive variant (e.g.
      &lt;span class="terminal"
      style="color:black"&gt;-ieq &lt;/span&gt;).&lt;br/&gt;
    </comment>
    <definition>
      <comment>
        Equality operators
      </comment>
      <terminal type="case-insensitive">-eq</terminal>
      <terminal type="case-insensitive">-ne</terminal>
      <terminal type="case-insensitive">-ge</terminal>
      <terminal type="case-insensitive">-gt</terminal>
      <terminal type="case-insensitive">-lt</terminal>
      <terminal type="case-insensitive">-le</terminal>
    </definition>
    <definition>
      <comment>
        Matching operators
      </comment>
      <terminal type="case-insensitive">-match</terminal>
      <terminal type="case-insensitive">-notMatch</terminal>
      <terminal type="case-insensitive">-like</terminal>
      <terminal type="case-insensitive">-notLike</terminal>
    </definition>
    <definition>
      <comment>
        Containment operators
      </comment>
      <terminal type="case-insensitive">-contains</terminal>
      <terminal type="case-insensitive">-notContains</terminal>
      <terminal type="case-insensitive">-in</terminal>
      <terminal type="case-insensitive">-notIn</terminal>
    </definition>
    <definition>
      <comment>
        Replacement operator
      </comment>
      <terminal type="case-insensitive">-replace</terminal>
    </definition>
  </rule>
  <rule name="Addition">
    <definition>
      <nonterminal name="Multiplication"/>
      <repeated>
        <optional>
          <nonterminal name="AdditionOperator"/>
          <nonterminal name="Multiplication"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="AdditionOperator">
    <definition>
      <terminal>+</terminal>
      <terminal>-</terminal>
    </definition>
  </rule>
  <rule name="Multiplication">
    <definition>
      <nonterminal name="SignedExpression"/>
      <repeated>
        <optional>
          <nonterminal name="MultiplicationOperator"/>
          <nonterminal name="SignedExpression"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="MultiplicationOperator">
    <definition>
      <terminal>*</terminal>
      <terminal>/</terminal>
      <terminal>%</terminal>
    </definition>
  </rule>
  <rule name="SignedExpression">
    <definition>
      <optional>
        <nonterminal name="Sign"/>
      </optional>
      <nonterminal name="FormatExpression"/>
    </definition>
  </rule>
  <rule name="Sign">
    <definition>
      <terminal>+</terminal>
      <terminal>-</terminal>
    </definition>
  </rule>
  <rule name="FormatExpression">
    <definition>
      <nonterminal name="RangeExpression"/>
      <repeated>
        <optional>
          <terminal type="case-insensitive">-f</terminal>
          <nonterminal name="RangeExpression"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="RangeExpression">
    <definition>
      <nonterminal name="ArrayLiteral"/>
      <repeated>
        <optional>
          <terminal>..</terminal>
          <nonterminal name="ArrayLiteral"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="ArrayLiteral">
    <definition>
      <nonterminal name="PostfixOperation"/>
      <repeated>
        <optional>
          <terminal>,</terminal>
          <nonterminal name="PostfixOperation"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="PostfixOperation">
    <definition>
      <nonterminal name="AssignableExpression"/>
      <nonterminal name="PostfixOperator"/>
    </definition>
    <definition>
      <nonterminal name="PropertyOrArrayReference"/>
    </definition>
  </rule>
  <rule name="PostfixOperator">
    <definition>
      <terminal>++</terminal>
      <terminal>--</terminal>
    </definition>
  </rule>
  <rule name="PropertyOrArrayReference">
    <definition>
      <nonterminal name="Value"/>
      <repeated>
        <nonterminal name="PropertyOrArrayReferenceOperator"/>
      </repeated>
    </definition>
  </rule>
  <rule name="propertyOrArrayReferenceOperator">
    <definition>
      <terminal>[</terminal>
      <nonterminal name="Expression"/>
      <terminal>]</terminal>
    </definition>
    <definition>
      <terminal>.</terminal>
      <nonterminal name="PropertyName"/>
      <optional>
        <nonterminal name="ParseCall"/>
      </optional>
    </definition>
    <definition>
      <terminal>.</terminal>
      <nonterminal name="Value"/>
    </definition>
  </rule>
  <rule name="ParseCall">
    <definition>
      <terminal>(</terminal>
      <nonterminal name="ArrayLiteral"/>
      <terminal>)</terminal>
    </definition>
  </rule>
  <rule name="Value">
    <definition>
      <terminal>(</terminal>
      <nonterminal name="Assignment"/>
      <terminal>)</terminal>
    </definition>
    <definition>
      <terminal>$(</terminal>
      <nonterminal name="Statements"/>
      <terminal>)</terminal>
    </definition>
    <definition>
      <comment>
        array subexpression
      </comment>
      <terminal>@(</terminal>
      <nonterminal name="Statements"/>
      <terminal>)</terminal>
    </definition>
    <definition>
      <nonterminal name="ScriptBlock"/>
    </definition>
    <definition>
      <terminal>@{</terminal>
      <nonterminal name="HashLiteral"/>
      <terminal>}</terminal>
    </definition>
    <definition>
      <nonterminal name="UnaryOperator"/>
      <nonterminal name="PropertyOrArrayReference"/>
    </definition>
    <definition>
      <nonterminal name="AttributeSpecification"/>
      <optional>
        <nonterminal name="PropertyOrArrayReference"/>
      </optional>
    </definition>
    <definition>
      <nonterminal name="prePostfixOperatorToken"/>
      <nonterminal name="lvalue"/>
    </definition>
    <definition>
      <nonterminal name="Number"/>
    </definition>
    <definition>
      <nonterminal name="LiteralString"/>
    </definition>
    <definition>
      <nonterminal name="ExpandableString"/>
    </definition>
    <definition>
      <nonterminal name="Variable"/>
    </definition>
  </rule>
  <rule name="HashLiteral">
    <definition>
      <nonterminal name="keyExpression"/>
      <terminal>=</terminal>
      <nonterminal name="Pipeline"/>
      <repeated>
        <optional>
          <nonterminal name="StatementSeparator"/>
          <nonterminal name="HashLiteral"/>
        </optional>
      </repeated>
    </definition>
  </rule>




  <rule name="AssignableExpression">
    <definition>
      <nonterminal name="lvalue"/>
      <repeated>
        <optional>
          <terminal>?</terminal>
          <nonterminal name="lvalue"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="lvalue">
    <definition>
      <nonterminal name="simpleLvalue"/>
      <repeated>
        <nonterminal name="propertyOrArrayReferenceOperator"/>
      </repeated>
    </definition>
  </rule>
  <rule name="simpleLvalue">
    <definition>
      <repeated>
        <nonterminal name="AttributeSpecification"/>
      </repeated>
      <nonterminal name="Variable"/>
    </definition>
  </rule>

  <rule name="FunctionDeclaration">
    <definition>
      <nonterminal name="Declarator"/>
      <optional>
        <nonterminal name="Scope"/>
        <terminal>:</terminal>
      </optional>
      <nonterminal name="Name"/>
      <optional>
        <terminal>(</terminal>
        <nonterminal name="Parameters"/>
        <terminal>)</terminal>
      </optional>
      <nonterminal name="ScriptBlock"/>
    </definition>
  </rule>
  <rule name="Declarator">
    <definition>
      <terminal type="case-insensitive">filter</terminal>
    </definition>
    <definition>
      <terminal type="case-insensitive">function</terminal>
    </definition>
  </rule>
  <rule name="Scope">
    <definition>
      <terminal type="case-insensitive">global</terminal>
    </definition>
    <definition>
      <comment>default scope for functions and aliases</comment>
      <terminal type="case-insensitive">local</terminal>
    </definition>
    <definition>
      <comment>restricts visibility to current scope</comment>
      <terminal type="case-insensitive">private</terminal>
    </definition>
    <definition>
      <comment>default scope for scripts</comment>
      <terminal type="case-insensitive">script</terminal>
    </definition>
    <definition>
      <comment>identifies local variable in a remote command</comment>
      <terminal type="case-insensitive">using</terminal>
    </definition>
    <definition>
      <terminal type="case-insensitive">workflow</terminal>
    </definition>
  </rule>

  <rule name="IfStatement">
    <definition>
      <terminal>if</terminal>
      <terminal>(</terminal>
      <nonterminal name="Pipeline"/>
      <terminal>)</terminal>
      <nonterminal name="ScriptBlock"/>
      <repeated>
        <optional>
          <terminal>elseif</terminal>
          <terminal>(</terminal>
          <nonterminal name="Pipeline"/>
          <terminal>)</terminal>
          <nonterminal name="ScriptBlock"/>
        </optional>
      </repeated>
      <optional>
        <terminal>else</terminal>
        <nonterminal name="ScriptBlock"/>
      </optional>
    </definition>
  </rule>
  <rule name="ternaryOperatorRule">
    <definition>
      <terminal>if</terminal>
      <terminal>(</terminal>
      <nonterminal name="Pipeline"/>
      <terminal>)</terminal>
      <nonterminal name="ScriptBlock"/>
      <terminal>else</terminal>
      <nonterminal name="ScriptBlock"/>
    </definition>
    <definition>
      <nonterminal name="Pipeline"/>
      <terminal>?</terminal>
      <nonterminal name="ScriptBlock"/>
      <terminal>:</terminal>
      <nonterminal name="ScriptBlock"/>
    </definition>
  </rule>
  <rule name="SwitchStatement">
    <definition>
      <terminal>switch</terminal>
      <optional>
        <nonterminal name="switchTypeToken"/>
      </optional>
      <optional>
        <terminal>-caseSensitive</terminal>
      </optional>
      <nonterminal name="switchConditionRule"/>
      <terminal>{</terminal>
      <repeated>
        <nonterminal name="switchClauseRule"/>
        <nonterminal name="ScriptBlock"/>
      </repeated>
      <terminal>}</terminal>
    </definition>
    <definition>
      <nonterminal name="Pipeline"/>
      <terminal>?</terminal>
      <nonterminal name="ScriptBlock"/>
      <terminal>:</terminal>
      <nonterminal name="ScriptBlock"/>
    </definition>
  </rule>
  <rule name="switchTypeToken">
    <definition>
      <terminal>-exact</terminal>
    </definition>
    <definition>
      <terminal>-regex</terminal>
    </definition>
    <definition>
      <terminal>-wildcard</terminal>
    </definition>
  </rule>
  <rule name="switchConditionRule">
    <definition>
      <terminal>-file</terminal>
      <nonterminal name="PropertyOrArrayReference"/>
    </definition>
    <definition>
      <terminal>(</terminal>
      <nonterminal name="Pipeline"/>
      <terminal>)</terminal>
    </definition>
  </rule>
  <rule name="switchClauseRule">
    <definition>
      <comment>
        Only one &lt;span class="terminal"
        style="color:black"&gt;default &lt;/span&gt;
        clause is allowed in a &lt;span class="terminal"
        style="color:black"&gt;switch &lt;/span&gt; statement.
      </comment>
      <terminal>default</terminal>
    </definition>
    <definition>
      <nonterminal name="Name"/>
    </definition>
    <definition>
      <nonterminal name="PropertyOrArrayReference"/>
    </definition>
    <definition>
      <nonterminal name="ScriptBlock"/>
    </definition>
  </rule>
  <rule name="foreachStatement">
    <comment>
      See also &lt;span class="terminal"
      style="color:black"&gt;ForEach-Object &lt;/span&gt;
    </comment>
    <definition>
      <optional>
        <terminal>loopLabelToken</terminal>
      </optional>
      <terminal>foreach</terminal>
      <terminal>(</terminal>
      <nonterminal name="Variable"/>
      <terminal>in</terminal>
      <nonterminal name="Pipeline"/>
      <terminal>)</terminal>
      <nonterminal name="ScriptBlock"/>
    </definition>
  </rule>
  <rule name="forStatement">
    <definition>
      <optional>
        <terminal>loopLabelToken</terminal>
      </optional>
      <terminal>for</terminal>
      <terminal>(</terminal>
      <optional>
        <nonterminal name="Pipeline"/>
      </optional>
      <terminal>;</terminal>
      <optional>
        <nonterminal name="Pipeline"/>
      </optional>
      <terminal>;</terminal>
      <optional>
        <nonterminal name="Pipeline"/>
      </optional>
      <terminal>)</terminal>
      <nonterminal name="ScriptBlock"/>
    </definition>
  </rule>
  <rule name="whileStatement">
    <definition>
      <optional>
        <terminal>loopLabelToken</terminal>
      </optional>
      <terminal>while</terminal>
      <terminal>(</terminal>
      <nonterminal name="Pipeline"/>
      <terminal>)</terminal>
      <nonterminal name="ScriptBlock"/>
    </definition>
  </rule>
  <rule name="doStatement">
    <definition>
      <optional>
        <terminal>loopLabelToken</terminal>
      </optional>
      <terminal>do</terminal>
      <nonterminal name="ScriptBlock"/>
      <nonterminal name="whileOrUntilToken"/>
      <terminal>(</terminal>
      <nonterminal name="Pipeline"/>
      <terminal>)</terminal>
    </definition>
  </rule>
  <rule name="whileOrUntilToken">
    <definition>
      <terminal>while</terminal>
    </definition>
    <definition>
      <terminal>until</terminal>
    </definition>
  </rule>
  <rule name="trapStatement">
    <definition>
      <terminal>trap</terminal>
      <optional>
        <nonterminal name="AttributeSpecification"/>
      </optional>
      <nonterminal name="ScriptBlock"/>
    </definition>
  </rule>
  <rule name="finallyStatement">
    <definition>
      <terminal>finally</terminal>
      <nonterminal name="ScriptBlock"/>
    </definition>
  </rule>
  <rule name="flowControlStatement">
    <definition>
      <nonterminal name="breakOrContinueToken"/>
      <optional>
        <nonterminal name="PropertyName"/>
      </optional>
    </definition>
    <definition>
      <nonterminal name="breakOrContinueToken"/>
      <optional>
        <nonterminal name="PropertyOrArrayReference"/>
      </optional>
    </definition>
    <definition>
      <terminal>return</terminal>
      <optional>
        <nonterminal name="Pipeline"/>
      </optional>
    </definition>
  </rule>
  <rule name="breakOrContinueToken">
    <definition>
      <terminal>break</terminal>
    </definition>
    <definition>
      <terminal>continue</terminal>
    </definition>
  </rule>












  <rule name="Command">
    <definition>
      <optional>
        <nonterminal name="Invocation"/>
      </optional>
      <nonterminal name="cmdletCore"/>
      <repeated>
        <optional>
          <nonterminal name="cmdletPostfix"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="Invocation">
    <definition>
      <comment>
        call operator, see also &lt;span class="terminal"
        style="color:black"&gt;Invoke-Expression &lt;/span&gt;
      </comment>
      <terminal>&amp;</terminal>
    </definition>
    <definition>
      <comment>add and run script or function to the local scope</comment>
      <terminal>.</terminal>
    </definition>
  </rule>
  <rule name="cmdletCore">
    <definition>
      <nonterminal name="cmdletNameToken"/>
    </definition>
    <definition>
      <nonterminal name="Expression"/>
    </definition>
  </rule>
  <rule name="cmdletPostfix">
    <definition>
      <nonterminal name="parameterToken"/>
    </definition>
    <definition>
      <nonterminal name="Name"/>
    </definition>
    <definition>
      <nonterminal name="PostfixOperation"/>
    </definition>
    <definition>
      <repeated>
        <nonterminal name="Redirection"/>
      </repeated>
    </definition>
  </rule>
  <rule name="Redirection">
    <comment>
      see also &lt;span class="terminal"
      style="color:black"&gt;Out-File &lt;/span&gt;
      and &lt;span class="terminal"
      style="color:black"&gt;Tee-Object &lt;/span&gt;
    </comment>
    <definition>
      <comment>redirect to default stream</comment>
      <nonterminal name="StreamNumber"/>
      <terminal>&gt;&amp;1</terminal>
    </definition>
    <definition>
      <comment>overwrite file</comment>
      <optional>
        <nonterminal name="StreamNumber"/>
      </optional>
      <terminal>&gt;</terminal>
      <nonterminal name="PropertyOrArrayReference"/>
    </definition>
    <definition>
      <comment>append to file</comment>
      <optional>
        <nonterminal name="StreamNumber"/>
      </optional>
      <terminal>&gt;&gt;</terminal>
      <nonterminal name="PropertyOrArrayReference"/>
    </definition>
  </rule>
  <rule name="StreamNumber">
    <definition>
      <comment>Success stream (default)</comment>
      <terminal>1</terminal>
    </definition>
    <definition>
      <comment>Error stream</comment>
      <terminal>2</terminal>
    </definition>
    <definition>
      <comment>Warning stream</comment>
      <terminal>3</terminal>
    </definition>
    <definition>
      <comment>Verbose stream</comment>
      <terminal>4</terminal>
    </definition>
    <definition>
      <comment>Debug stream</comment>
      <terminal>5</terminal>
    </definition>
    <definition>
      <comment>Information stream</comment>
      <terminal>6</terminal>
    </definition>
    <definition>
      <comment>All streams</comment>
      <terminal>*</terminal>
    </definition>
  </rule>

  <rule name="Parameters">
    <definition>
      <nonterminal name="parameterWithIntializer"/>
      <repeated>
        <optional>
          <nonterminal name="commaToken"/>
          <nonterminal name="parameterWithIntializer"/>
        </optional>
      </repeated>
    </definition>
  </rule>
  <rule name="parameterWithIntializer">
    <definition>
      <nonterminal name="simpleLvalue"/>
      <optional>
        <terminal>=</terminal>
        <nonterminal name="Expression"/>
      </optional>
    </definition>
  </rule>

  <comment>
    TOKENIZER RULES
  </comment>
  <comment>
    Type Operators, Comparison Operators, and String Operators have the same precedence!
  </comment>
  <rule name="ExpandableString">
    <comment>
      with variable expansion / string interpolatioin
    </comment>
    <definition>
      <terminal>"</terminal>
      <terminal type="regular">.*</terminal>
      <terminal>"</terminal>
    </definition>
  </rule>
  <rule name="constantStringToken">
    <comment>
      without variable expansion / string interpolatioin
    </comment>
    <definition>
      <terminal>'</terminal>
      <terminal type="regular">.*</terminal>
      <terminal>'</terminal>
    </definition>
  </rule>
  <rule name="Variable">
    <definition>
      <terminal>$</terminal>
      <optional>
        <nonterminal name="Scope"/>
        <terminal>:</terminal>
      </optional>
      <repeated>
        <terminal type="regular">\p{alnum}</terminal>
      </repeated>
      <terminal>'</terminal>
    </definition>
    <definition>
      <terminal>$</terminal>
      <terminal>{</terminal>
      <terminal type="regular">.+</terminal>
      <terminal>}</terminal>
    </definition>
  </rule>
  <rule name="parameterToken">
    <definition>
      <terminal>-</terminal>
      <repeated>
        <terminal type="regular">\p{Letter}</terminal>
      </repeated>
      <optional>
        <terminal>:</terminal>
      </optional>
    </definition>
  </rule>
  <rule name="Number">
    <comment>
      C#-like number pattern
    </comment>
    <definition>
    </definition>
  </rule>
  <rule name="referenceOperatorToken">
    <definition>
      <terminal>.</terminal>
      <terminal>::</terminal>
      <terminal>[</terminal>
    </definition>
  </rule>
  <rule name="Name">
    <definition>
      <terminal type="regular">[^-($0-9].*[^ \t]</terminal>
    </definition>
  </rule>
  <rule name="UnaryOperator">
    <definition>
      <terminal>!</terminal>
      <terminal>-not</terminal>
      <terminal>-bnot</terminal>
      <terminal>+</terminal>
      <terminal>-</terminal>
      <nonterminal name="AttributeSpecification"/>
    </definition>
  </rule>
  <rule name="loopLabelToken">
    <definition>
      <terminal type="regular">\p{Letter}</terminal>
      <repeated>
        <optional>
          <terminal type="regular">\p{alnum}</terminal>
        </optional>
      </repeated>
      <terminal>:</terminal>
    </definition>
  </rule>
  <rule name="parameterToken">
    <definition>
      <terminal>param</terminal>
    </definition>
  </rule>
  <rule name="AttributeSpecification">
    <definition>
      <terminal>[</terminal>
      <terminal type="regular">.*</terminal>
      <terminal>]</terminal>
    </definition>
  </rule>
  <rule name="cmdletNameToken">
    <definition>
      <terminal type="regular">[^$0-9(@"'][^ \t]*</terminal>
    </definition>
  </rule>
</syntax>
